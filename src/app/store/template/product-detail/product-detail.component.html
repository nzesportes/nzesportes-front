<div class="container">
  <div class="row m-0 pt-5 pb-5">
    <div class="col-12 col-lg-6 pt-5">
      <div class="w-100 mb-3 zoomImage">
        <lib-ngx-image-zoom
          [thumbImage]="dynamicSlides[positionImage].thumb"
          [fullImage]="dynamicSlides[positionImage].fullImage"
          zoomMode="hover"
          [magnification]="0.5"
          [enableScrollZoom]="true"
        ></lib-ngx-image-zoom>
      </div>
      <owl-carousel-o [options]="customOptions" class="owl-product-details">
        <ng-container *ngFor="let slide of dynamicSlides; let i = index;">
          <ng-template carouselSlide id="{slide.id}">
            <!--produto começa aqui-->
            <div class="carousel-images">
              <img [src]="slide.thumb" (click)="changeImage(i)">
            </div>
          </ng-template>
        </ng-container>
      </owl-carousel-o>
    </div>
    <div class="col-12 col-lg-6 pt-5">
      <form>
        <p class="rating">
          <i class="fas fa-star"></i>
          <i class="fas fa-star"></i>
          <i class="fas fa-star"></i>
          <i class="fas fa-star-half-alt"></i>
          <i class="far fa-star"></i>
        </p>
        <h1>{{ product?.model }}</h1>
        <p class="categories"><a href="#">{{ product?.brand?.name | titlecase }}</a>, <a href="#">Modelo</a>, <a href="#">Tag</a></p>
        <h2>R$ {{ productDetails?.price }}
          <del *ngIf="false">R$ 150,00</del>
        </h2>
        <h3 class="title-details">Descrição</h3>
        <p class="description-details">
          {{ productDetails?.description }}
        </p>
        <h3 class="title-details">Escolher Modelo</h3>
        <ul class="choose-model">
          <li *ngFor="let model of product?.productDetails">
            <a routerLink="/produtos/{{ model.id }}">
              <img src="assets/images/product.jpg">
            </a>
          </li>
        </ul>
        <h3 class="title-details" for="inputSize">Escolher Tamanho</h3>
        <div class="row m-0 container-size-qtde">
          <div class="form-group col-9 p-0 pr-2">
            <select id="inputSize" class="form-control" #stock (change)="changeMax(stock.selectedIndex)">
              <option selected>Tamanho...</option>
              <option *ngFor="let stock of productDetails?.stock" [value]="stock">{{ stock.size }}</option>
            </select>
            <small *ngIf="stock.selectedIndex > 0">{{ sizeMax }} unidades em estoque.</small>
          </div>
          <div class="form-group col-3 p-0">
            <input type="number" class="form-control" [min]="1" [max]="sizeMax" [(ngModel)]="startValue" [ngModelOptions]="{ standalone: true }">
          </div>
        </div>
        <div class="mt-3 text-center text-lg-left">
          <button type="button" class="btn btn-primary btn-add-cart"
          (click)="addToCart(productDetails, stock.selectedIndex)">Adicionar ao carrinho<i
            class="fas fa-chevron-right"></i></button>
        </div>
      </form>
      <form class="pt-3">
        <h3 class="title-details">Calcular Frete</h3>
        <div class="row p-0 m-0">
          <div class="input-group mb-3 col-12 col-lg-6 cep p-0 m-0">
            <input type="text" class="form-control" mask="00000-000" [showMaskTyped]="true">
            <div class="input-group-append">
              <button class="btn btn-outline-secondary" type="button" (click)="calculate()">Calcular</button>
            </div>
          </div>
        </div>
        <div class="col-12 p-0 m-0" *ngIf="shipping">
          Até {{ shipping?.dias }} dias úteis - R$ {{ shipping?.valor }}
        </div>
      </form>

    </div>
    <div class="col-12 pt-5 container-review">
      <h2>AVALIAÇÕES</h2>
      <div>
        <div class="review">
          <h3>Lorem Ipsum</h3>
          <p class="rating">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="far fa-star"></i>
          </p>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          </p>
          <p class="rated-by">Por Rafael Peinado da Silva em 13 de novembro de 2021</p>
        </div>
        <div class="review">
          <h3>Lorem Ipsum</h3>
          <p class="rating">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="far fa-star"></i>
          </p>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          </p>
          <p class="rated-by">Por Rafael Peinado da Silva em 13 de novembro de 2021</p>
        </div>
        <div class="review">
          <h3>Lorem Ipsum</h3>
          <p class="rating">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="far fa-star"></i>
          </p>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi hendrerit, augue et consectetur consectetur,
            nunc dui egestas massa, vitae tincidunt purus elit et elit.
          </p>
          <p class="rated-by">Por Rafael Peinado da Silva em 13 de novembro de 2021</p>
        </div>
      </div>
      <nav aria-label="Page navigation">
        <ul class="pagination justify-content-end">
          <li class="page-item"><a class="page-link" href="#"><i class="fas fa-angle-left"></i></a></li>
          <li class="page-item active"><a class="page-link" href="#">1</a></li>
          <li class="page-item"><a class="page-link" href="#">2</a></li>
          <li class="page-item"><a class="page-link" href="#">3</a></li>
          <li class="page-item"><a class="page-link" href="#"><i class="fas fa-angle-right"></i></a></li>
        </ul>
      </nav>
    </div>
  </div>
</div>
